# gdown下载谷歌网盘的内容

- （依赖）安装gdown

```bash
$ pip intall gdown
```

- `CMakeLists.txt`

```
# Download caffemodel and prototxt
find_program(GDOWN_AVAIL "gdown")
if (NOT GDOWN_AVAIL)   # 若没有找到该可执行文件，则会返回<VAR>-NOTFOUND.
  message("gdown: command not found. External files could not be downloaded.")
endif()
set(PATH "${CMAKE_CURRENT_SOURCE_DIR}/data")
if (NOT EXISTS "${PATH}")
  execute_process(COMMAND mkdir -p ${PATH})
endif()
set(FILE "${PATH}/yolov3_416.caffemodel")
message(STATUS "Checking and downloading yolov3_416.caffemodel")
if (NOT EXISTS "${FILE}")
  message(STATUS "... file does not exist. Downloading now ...")
  execute_process(COMMAND gdown "https://drive.google.com/uc?id=1QXIFqSPFdTD4UbZEqVxvbJn5b7UZYjZ7" -O ${PATH}/yolov3_416.caffemodel)
endif()
set(FILE "${PATH}/yolov3_416_trt.prototxt")
message(STATUS "Checking and downloading yolov3_416_trt.prototxt")
if (NOT EXISTS "${FILE}")
  message(STATUS "... file does not exist. Downloading now ...")
  execute_process(COMMAND gdown "https://drive.google.com/uc?id=1qlhmqCIsK_-hdpBHGria2wX2zYL8a2aa" -O ${PATH}/yolov3_416_trt.prototxt)
endif()
```

- 知识点

1. [find_program](https://cmake.org/cmake/help/v3.18/command/find_program.html?highlight=find_program)：类似which，找到某个可执行文件的路径
2. `execute_process`：执行某个可执行文件



# 逻辑判断

- 判断一个路径指向的是否是文件夹

```cmake
if(IS_DIRECTORY "...")
```

