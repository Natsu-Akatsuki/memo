# Log Manage

## 查看内核日志

### dmesg

可用于查看内核自检信息（e.g. 硬件的检测流程）；判断外设是否成功连接

```bash
$ dmesg
# option:
# -l (level) 设置输出等级
# -T (timestamp) 使用系统时间（时间或在挂起后不准）
```

---

**可用等级**

<img src="https://natsu-akatsuki.oss-cn-guangzhou.aliyuncs.com/img/vOHQFX5VXsRvIUZ8.png!thumbnail" alt="img" style="zoom:67%;" />

**有关时间的补充说明**

![img](https://natsu-akatsuki.oss-cn-guangzhou.aliyuncs.com/img/SoEqKDAjyTkGHhsQ.png!thumbnail)

---

### journalctl

详看 :ref:`查看服务日志`

## 查看用户日志

含访问记录(login/logout)、登录验证信息(authority)

## 查看服务日志

### journalctl

```bash
$ journalctl -x # 输出信息附帮助性说明(help texts)
$ journalctl -e # 指定从日志文件尾部读起
```

![img](https://natsu-akatsuki.oss-cn-guangzhou.aliyuncs.com/img/SM3t7ubZHhPqIQAR.png!thumbnail)

#### 限制性输出

```bash
# option
# -p: err/num      # 指定日志输出等级
# --: since today  # 指定起始日期（只看当天的日志）
# -b：             # 最近一次的boot记录
# -k：             # 只查看内核信息
```

![img](https://natsu-akatsuki.oss-cn-guangzhou.aliyuncs.com/img/cmfj6YFCuKa3q2dr.png!thumbnail)

拓展：[一般使用journalctl来读取内核日志，而不用dmesg](https://wiki.archlinux.org/title/General_troubleshooting#General_procedures)

#### 查看日志占用的磁盘空间

```bash
$ journalctl --disk-usage
```

## 查看所有日志

即可通过GUI查看内核、用户、服务等日志

### for KDE

```bash
$ ksystemlog
```

<img src="https://natsu-akatsuki.oss-cn-guangzhou.aliyuncs.com/img/7ThlxRbwntAjiso8.png!thumbnail" alt="img" style="zoom:80%;" />

### [lnav](http://www.imooc.com/article/80502)

具有文本高亮，突出重点的效果

![image-20211030104458267](https://natsu-akatsuki.oss-cn-guangzhou.aliyuncs.com/img/image-20211030104458267.png)
